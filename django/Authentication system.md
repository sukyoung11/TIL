# Authentication system

- Authentication (인증) - 신원확인, 사용자가 자신이 누구인지 확인하는 것
- Authorization (권한 ,허가) - 권한 부여, 인증된 사용자가 수행할 수 있는 작업을 결정



## 쿠키, 세션

### HTTP

HTML문서와 같은 데이터들을 가져올 수 있게 해주는 프로토콜

웹에서 이루어지는 모든 데이터 교환의 기초

클라이언트 - 서버의 프로토콜

- 비연결지향 - 서버는 요청에 대한 응답을 보낸 후 클라이언트와 연결을 끊음
- 무상태 - 연결을 끊는 순간 클라이언트와 서버 간의 통신이 끝나며 상태 정보가 유지되지 않음, 클라이언트와 서버가 주고 받는 메세지들은 서로 완전히 독립적임

**따라서 클라이언트와 서버의 지속적인 관계를 유지하기 위해 쿠키와 세션이 존재함**



### 쿠키

서버가 사용자의 웹 브라우저에 전송하는 작은 데이터 조각

사용자가 웹사이트를 방문할 경우 해당 웹사이트의 서버를 통해 사용자의 컴퓨터에 설치되는 작은 기록 정보 파일

- 브라우저(클라이언트) 는 쿠키를 로컬에 key-value의 데이터 형식으로 저장
- 쿠키를 저장해 놓았다가 동일한 서버에 재 요청시 저장된 쿠키를 함께 전송

HTTP쿠키는 상태가 있는 세션을 만들어 줌

쿠키는 두 요청이 동일한 브라우저에서 들어왔는지 아닌지를 판단할 때 주로 사용

- 이를 이용해 사용자의 로그인 상태를 유지할 수 있음
- 상태가 없는 HTTP 프로토콜에서 상태 정보를 기억 시켜 줌

**--> 웹 페이지에 접속하면 요청한 웹 페이지를 받으며 쿠키를 저장하고, 클라이언트가 같은 서버에 재 요청 시 요청과 함께 쿠키도 전송**

### 쿠키의 사용 목적

1. 세션 관리

   로그인, 아이디 자동 완성, 공지 하루 안보기, 팝업 체크, 장바구니

2.  개인화

    사용자 선호, 테마 등의 설정

3.  트래킹

​        사용자의 행동을 기록 및 분석



### 세션(Session)

**사이트와 특정 브라우저 사이의 상태를 유지시키는 것** - 쿠키는 세션 정보를 가지고 있음

클라이언트가 서버에 접속하면 서버가 특정 세션 아이디를 발급하고 클라이언트는 발급 받은 세션 아이디를 쿠키에 저장

- 클라이언트가 다시 서버에 접속하면 요청과 함께 쿠키를 서버에 전달
- 쿠키는 요청될 때마다 서버에 함께 전송되므로 서버에서 세션 아이디를 확인해 알맞은 로직을 처리

아이디는 세션을 구별하기 위해 필요하며 쿠키에는 아이디만 저장 - 아이디에 대한 값은 서버가 갖고 있음



### 쿠키 lifetime

1. session cookies
2. persistent cookies



쿠키 - 브라우저한테 서버가 뭔가를 남길 수 있는 수단

실시간으로 정보를 받아오는 법 - Web socket

리퀘스트를 보내지 않아도 됨

